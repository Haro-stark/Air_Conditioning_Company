<!-- <div class="row"> -->

  <h2 class="page-header text-center">Work Log</h2>

<!-- </div> -->

<br />

<div class="text-center" *ngIf="auth.isAllowedToAssistantAndOfficer(user)">
  <a  data-toggle="modal">
     <button
        class="btn badge-success ml-auto"
        type="button"
      (click)="openCreateWorkLogModal(content)"
    >
      Create New Work Log
    </button>
  </a>
</div>

<table class="table table-striped table-hover" id="servers">
  <thead>
    <tr>
      <th>Date</th>
      <th>Order Id</th>
      <!-- <th>Order Type</th> -->
      <th>Number Of Hours</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>
  <ng-container *ngIf="workLogs$ | async as workLogs">
    <tbody *ngFor="let log of workLogs; let i = index">
      <tr>
        <td>{{ log.date }}</td>
        <td>{{ log.order.orderId }}</td>
        <!-- <td>{{log.order.type}}</td> -->
        <td>{{ log.numberOfHours }}</td>
        <td>
          <a
            *ngIf="auth.isAllowedToAdmin(user)"
            (click)="editLog(log)"
            style="cursor: pointer"
          >
            <fa-icon
              [icon]="editIcon"
              title="Edit"
              [ngClass]="'edit-icon icon-button-properties mr-1'"
            ></fa-icon>
          </a>
        </td>
        <td>
          <a
            *ngIf="auth.isAllowedToAdmin(user)"
            (click)="deleteLog(log)"
            class="delete"
            data-toggle="modal"
            style="cursor: pointer"
          >
            <fa-icon
              [icon]="deleteIcon"
              title="Delete"
              [ngClass]="'delete-icon icon-button-properties'"
            >
            </fa-icon>
          </a>
        </td>
      </tr>
    </tbody>
  </ng-container>
</table>

<!-- Add work log Modal HTML -->
<!-- <ng-template #content let-c="close" let-d="dismiss">
    <div #createWorkLogModal id="createWorkLogModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form #serverForm="ngForm" (ngSubmit)="saveServer(serverForm)">
                    <div class="modal-header">
                        <h4 class="modal-title">Create WorkLog</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date" value={{dateControl}} id="date" ngModel class="form-control" required
                                name="date">
                        </div>
                        <div class="form-group">
                            <label>Number Of Hours</label>
                            <input type="text" ngModel name="numberOfHours" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Order</label>
                            <select name="status" ngModel="SERVER_DOWN" class="form-control" name="status" required>
                                <option *ngFor="let order of orders" [ngValue]="order">{{order.orderId}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-warning" id="closeModal" data-dismiss="modal">
                            Cancel
                        </button>
                        <button type="submit" [disabled]="serverForm.invalid" class="btn btn-success">
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template> -->

<ng-template #content let-c="close" let-d="dismiss">
  <form #serverForm="ngForm" (ngSubmit)="saveServer(serverForm)">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Create Work Log</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="d('Cross click')"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <!-- <div class="form-group">
                <label>Date</label>
                <input type="date" value={{dateControl}} id="date" ngModel class="form-control" required name="date">
            </div> -->
      <div class="form-group">
        <label>Number Of Hours</label>
        <input
          type="text"
          ngModel
          name="numberOfHours"
          class="form-control"
          required
        />
      </div>
      <div class="form-group">
        <label>Order</label>
        <select
          name="Order"
          ngModel=""
          class="form-control"
          name="order"
          required
        >
          <option *ngFor="let order of orders" [ngValue]="order">
            {{ order.orderId }}
          </option>
        </select>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline-dark" id="closeModal" data-dismiss="modal">
        Save
      </button>
    </div>
  </form>
</ng-template>


